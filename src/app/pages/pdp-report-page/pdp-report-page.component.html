<app-header [menu]="menu"></app-header>

<section class="main">
    <div>
        <h3>گزارش مسیر</h3>

        <ul>
            <li *ngFor="let item of works; trackBy: identify">
                <div class="title">
                    <button (click)="show(item.id)">
                        <svg *ngIf="taskNumber[item.id].total != 0" width="24" height="24" [ngClass]="showlist[item.id] ? 'rotate' : ''" viewBox="0 0 24 24"
                             fill="hsla(0, 0%, 25%, 0.5)" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19.9195 15.8001C19.7295 15.8001 19.5395 15.7301 19.3895 15.5801L12.8695 9.06008C12.3895 8.58008 11.6095 8.58008 11.1295 9.06008L4.60953 15.5801C4.31953 15.8701 3.83953 15.8701 3.54953 15.5801C3.25953 15.2901 3.25953 14.8101 3.54953 14.5201L10.0695 8.00008C11.1295 6.94008 12.8595 6.94008 13.9295 8.00008L20.4495 14.5201C20.7395 14.8101 20.7395 15.2901 20.4495 15.5801C20.2995 15.7201 20.1095 15.8001 19.9195 15.8001Z"
                                  fill="inherit"/>
                        </svg>
                    </button>

                    <p [ngClass]="taskNumber[item.id].total != 0 ? '' : 'disable'">{{item.title}}</p>

                    <svg width="24" height="24" *ngIf="taskNumber[item.id].total == 0" class="rotation" viewBox="0 0 24 24" fill="green" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14.55 22.42C14.22 22.42 13.91 22.2 13.82 21.86C13.71 21.46 13.95 21.05 14.36 20.94C18.42 19.87 21.25 16.19 21.25 11.99C21.25 6.89 17.1 2.74 12 2.74C7.67 2.74 4.83 5.27 3.5 6.8H6.44C6.85 6.8 7.19 7.14 7.19 7.55C7.19 7.96 6.86 8.31 6.44 8.31H2.01C1.96 8.31 1.87 8.3 1.8 8.28C1.71 8.25 1.63 8.21 1.56 8.16C1.47 8.1 1.4 8.02 1.35 7.93C1.3 7.84 1.26 7.73 1.25 7.62C1.25 7.59 1.25 7.57 1.25 7.54V3C1.25 2.59 1.59 2.25 2 2.25C2.41 2.25 2.75 2.59 2.75 3V5.39C4.38 3.64 7.45 1.25 12 1.25C17.93 1.25 22.75 6.07 22.75 12C22.75 16.88 19.46 21.16 14.74 22.4C14.68 22.41 14.61 22.42 14.55 22.42Z" fill="inherit"/>
                        <path d="M11.29 22.73C11.27 22.73 11.25 22.72 11.24 22.72C10.16 22.65 9.1 22.41 8.1 22.02C7.81 21.91 7.61 21.62 7.62 21.31C7.62 21.22 7.64 21.13 7.67 21.05C7.82 20.67 8.27 20.48 8.64 20.62C9.51 20.96 10.42 21.16 11.34 21.23C11.73 21.25 12.04 21.59 12.04 21.99L12.03 22.03C12.01 22.42 11.68 22.73 11.29 22.73ZM5.78 20.58C5.61 20.58 5.45 20.52 5.31 20.42C4.47 19.74 3.73 18.95 3.13 18.07C3.04 17.94 2.99 17.8 2.99 17.65C2.99 17.4 3.11 17.17 3.32 17.03C3.65 16.8 4.13 16.89 4.36 17.21C4.36 17.22 4.36 17.22 4.36 17.22C4.37 17.23 4.38 17.25 4.39 17.26C4.91 18.01 5.54 18.68 6.25 19.24C6.42 19.38 6.53 19.59 6.53 19.82C6.53 19.99 6.48 20.16 6.37 20.3C6.22 20.48 6.01 20.58 5.78 20.58ZM2.44 15.7C2.11 15.7 1.82 15.49 1.73 15.18C1.41 14.15 1.25 13.08 1.25 12V11.99C1.26 11.58 1.59 11.25 2 11.25C2.41 11.25 2.75 11.59 2.75 12C2.75 12.94 2.89 13.86 3.16 14.73C3.18 14.81 3.19 14.88 3.19 14.96C3.19 15.28 2.98 15.57 2.66 15.67C2.59 15.69 2.52 15.7 2.44 15.7Z" fill="inherit"/>
                    </svg>
                </div>
                <ul *ngIf="showlist[item.id]">
                    <li *ngFor="let subitem of item.subtask; trackBy: identify">
                        <button (click)="changeState(item.id, subitem.id)" [ngClass]="subitem.state == 1 ? 'green' : subitem.state == 2 ? 'red' : ''">
                            <svg width="24" *ngIf="subitem.state != 2" height="24" viewBox="0 0 24 24" fill="hsla(0, 0%, 25%, 0.5)"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path d="M15 12.9502H8C7.59 12.9502 7.25 12.6102 7.25 12.2002C7.25 11.7902 7.59 11.4502 8 11.4502H15C15.41 11.4502 15.75 11.7902 15.75 12.2002C15.75 12.6102 15.41 12.9502 15 12.9502Z"
                                      fill="inherit"/>
                                <path d="M12.38 16.9502H8C7.59 16.9502 7.25 16.6102 7.25 16.2002C7.25 15.7902 7.59 15.4502 8 15.4502H12.38C12.79 15.4502 13.13 15.7902 13.13 16.2002C13.13 16.6102 12.79 16.9502 12.38 16.9502Z"
                                      fill="inherit"/>
                                <path d="M14 6.75H10C9.04 6.75 7.25 6.75 7.25 4C7.25 1.25 9.04 1.25 10 1.25H14C14.96 1.25 16.75 1.25 16.75 4C16.75 4.96 16.75 6.75 14 6.75ZM10 2.75C9.01 2.75 8.75 2.75 8.75 4C8.75 5.25 9.01 5.25 10 5.25H14C15.25 5.25 15.25 4.99 15.25 4C15.25 2.75 14.99 2.75 14 2.75H10Z"
                                      fill="inherit"/>
                                <path d="M15 22.7499H9C3.38 22.7499 2.25 20.1699 2.25 15.9999V9.99993C2.25 5.43993 3.9 3.48993 7.96 3.27993C8.36 3.25993 8.73 3.56993 8.75 3.98993C8.77 4.40993 8.45 4.74993 8.04 4.76993C5.2 4.92993 3.75 5.77993 3.75 9.99993V15.9999C3.75 19.6999 4.48 21.2499 9 21.2499H15C19.52 21.2499 20.25 19.6999 20.25 15.9999V9.99993C20.25 5.77993 18.8 4.92993 15.96 4.76993C15.55 4.74993 15.23 4.38993 15.25 3.97993C15.27 3.56993 15.63 3.24993 16.04 3.26993C20.1 3.48993 21.75 5.43993 21.75 9.98993V15.9899C21.75 20.1699 20.62 22.7499 15 22.7499Z"
                                      fill="inherit"/>
                            </svg>
                            <svg width="24" height="24" *ngIf="subitem.state == 2" viewBox="0 0 24 24" fill="red" xmlns="http://www.w3.org/2000/svg">
                                <path d="M14.0005 16.9101C13.8105 16.9101 13.6205 16.8401 13.4705 16.6901L9.51047 12.7301C9.22047 12.4401 9.22047 11.9601 9.51047 11.6701C9.80047 11.3801 10.2805 11.3801 10.5705 11.6701L14.5305 15.6301C14.8205 15.9201 14.8205 16.4001 14.5305 16.6901C14.3805 16.8301 14.1905 16.9101 14.0005 16.9101Z" fill="inherit"/>
                                <path d="M9.99945 16.9502C9.80945 16.9502 9.61945 16.8802 9.46945 16.7302C9.17945 16.4402 9.17945 15.9602 9.46945 15.6702L13.4295 11.7102C13.7195 11.4202 14.1995 11.4202 14.4895 11.7102C14.7795 12.0002 14.7795 12.4802 14.4895 12.7702L10.5295 16.7302C10.3795 16.8802 10.1895 16.9502 9.99945 16.9502Z" fill="inherit"/>
                                <path d="M14 6.75H10C9.04 6.75 7.25 6.75 7.25 4C7.25 1.25 9.04 1.25 10 1.25H14C14.96 1.25 16.75 1.25 16.75 4C16.75 4.96 16.75 6.75 14 6.75ZM10 2.75C9.01 2.75 8.75 2.75 8.75 4C8.75 5.25 9.01 5.25 10 5.25H14C15.25 5.25 15.25 4.99 15.25 4C15.25 2.75 14.99 2.75 14 2.75H10Z" fill="inherit"/>
                                <path d="M15 22.7499H9C3.38 22.7499 2.25 20.1699 2.25 15.9999V9.99993C2.25 5.43993 3.9 3.48993 7.96 3.27993C8.38 3.25993 8.73 3.56993 8.75 3.98993C8.77 4.40993 8.45 4.74993 8.04 4.76993C5.2 4.92993 3.75 5.77993 3.75 9.99993V15.9999C3.75 19.6999 4.48 21.2499 9 21.2499H15C19.52 21.2499 20.25 19.6999 20.25 15.9999V9.99993C20.25 5.77993 18.8 4.92993 15.96 4.76993C15.55 4.74993 15.23 4.38993 15.25 3.97993C15.27 3.56993 15.63 3.24993 16.04 3.26993C20.1 3.48993 21.75 5.43993 21.75 9.98993V15.9899C21.75 20.1699 20.62 22.7499 15 22.7499Z" fill="inherit"/>
                            </svg>

                            <p>{{subitem.title}}</p>
                        </button>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
</section>

<app-sidebar-menu [activeItem]="activeNumber"></app-sidebar-menu>
